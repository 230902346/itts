{"version":3,"sources":["uni-app:///main.js","webpack:///D:/uni-app/itts/pages/login/login/index.vue?3f24","webpack:///D:/uni-app/itts/pages/login/login/index.vue?b424","webpack:///D:/uni-app/itts/pages/login/login/index.vue?02c5","webpack:///D:/uni-app/itts/pages/login/login/index.vue?94bd","uni-app:///pages/login/login/index.vue","webpack:///D:/uni-app/itts/pages/login/login/index.vue?3a10"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"oIAAA,KACA,YACA,W,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,+DCHX,sHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,8BACZ,aAAAF,E,yCCvBf,sQ,gCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,gCCRvB,6GAA+mB,eAAG,G,+GCuBlnB,YAGA,O,6rBAGA,CACA,QADA,WAEA,oBACA,iBACA,aAEA,OANA,WAOA,WACA,iBACA,oBACA,8BACA,gCAIA,KAfA,WAgBA,OACA,kBACA,gBACA,eACA,cACA,UACA,eACA,iBACA,MACA,eACA,gBAGA,gBACA,kCADA,IAEA,eAFA,SAEA,cACA,SACA,kBACA,oBACA,gBACA,oBACA,OACA,YACA,qCACA,gBAEA,qBACA,sCACA,oBACA,mCACA,mBACA,wBACA,yBAOA,aA1BA,WA+BA,yDAEA,MAjCA,SAiCA,cACA,SACA,WACA,oBACA,eACA,WACA,oBAKA,kCAIA,iBACA,kD,0EC3GA,6GAA0pC,eAAG,G","file":"pages/login/login/index.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=49e212dd&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login/index.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=49e212dd&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :style=\"{height:scrollHeight + 'px',width:scrollWidth + 'px'}\"\r\n\t\tclass=\"flex-direction display-flex justify-center align-center\">\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"header\">\r\n\t\t\t\t<image src=\"/static/login/logo.jpg\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-load load-modal\" v-if=\"requestLoading\">\r\n\t\t\t\t<view class=\"gray-text\">加载中...</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"conceal\">\r\n\t\t\t\t<button class=\"dlbutton\" hover-class=\"dlbutton-hover\" type=\"default\" open-type=\"getPhoneNumber\"\r\n\t\t\t\t\t@getphonenumber=\"getPhoneNumber\" style=\"color: #FFFFFF;\">微信授权登录</button>\r\n\t\t\t\t<view class=\"oauth-row\" v-if=\"hasProvider\" v-bind:style=\"{top: positionTop + 'px'}\">\r\n\t\t\t\t\t<view class=\"oauth-image\" v-for=\"provider in providerList\" :key=\"provider.value\">\r\n\t\t\t\t\t\t<image :src=\"provider.image\" @tap=\"oauth(provider.value)\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tMobileLogin\r\n\t} from '@/api/login.js';\r\n\timport {\r\n\t\tmapMutations\r\n\t} from 'vuex';\r\n\texport default {\r\n\t\tonReady() {\r\n\t\t\tthis.initPosition();\r\n\t\t\tuni.hideTabBar({});\r\n\t\t\tuni.login({});\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tvar that = this;\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthat.scrollHeight = res.windowHeight;\r\n\t\t\t\t\tthat.scrollWidth = res.windowWidth;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\trequestLoading: false,\r\n\t\t\t\tproviderList: [], //第三方oauthlist\r\n\t\t\t\thasProvider: false, //是否有第三方授权\r\n\t\t\t\tpositionTop: 0,\r\n\t\t\t\topenId: '',\r\n\t\t\t\tsession_key: '',\r\n\t\t\t\tencryptedData: '',\r\n\t\t\t\tiv: '',\r\n\t\t\t\tscrollHeight: 0,\r\n\t\t\t\tscrollWidth: 0,\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['setRoleId']),\r\n\t\t\tgetPhoneNumber(e) {\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.checkSession({\r\n\t\t\t\t\t\t\tsuccess: (checkRes) => {\r\n\t\t\t\t\t\t\t\tconst param = {\r\n\t\t\t\t\t\t\t\t\t\"code\": res.code,\r\n\t\t\t\t\t\t\t\t\t\"encryptedData\": e.detail.encryptedData,\r\n\t\t\t\t\t\t\t\t\t\"iv\": e.detail.iv\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.requestLoading = true\r\n\t\t\t\t\t\t\t\tMobileLogin(param).then(res => {\r\n\t\t\t\t\t\t\t\t\tthis.requestLoading = false;\r\n\t\t\t\t\t\t\t\t\tlet user_type = uni.getStorageSync(\"userType\");\r\n\t\t\t\t\t\t\t\t\tlet type = user_type === 0 ? 'engineer' :\r\n\t\t\t\t\t\t\t\t\t\tuser_type === 1 ? \"market\" : \"client\";\r\n\t\t\t\t\t\t\t\t\tthis.setRoleId(type);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinitPosition() {\r\n\t\t\t\t/**\r\n\t\t\t\t * 使用 absolute 定位，并且设置 bottom 值进行定位。软键盘弹出时，底部会因为窗口变化而被顶上来。\r\n\t\t\t\t * 反向使用 top 进行定位，可以避免此问题。\r\n\t\t\t\t */\r\n\t\t\t\tthis.positionTop = uni.getSystemInfoSync().windowHeight - 100;\r\n\t\t\t},\r\n\t\t\toauth(value) { // oauth授权登录\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: value,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\t\t\tprovider: value,\r\n\t\t\t\t\t\t\tsuccess: (infoRes) => {\r\n\t\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t\t * 实际开发中，获取用户信息后，需要将信息上报至服务端。\r\n\t\t\t\t\t\t\t\t * 服务端可以用 userInfo.openId 作为用户的唯一标识新增或绑定用户信息。\r\n\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\tthis.toMain(infoRes.userInfo.nickName);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.error('授权登录失败：' + JSON.stringify(err));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\">\r\n\t// 引入公共样式\r\n\t@import \"../../../common/styles/my-style.css\";\r\n\r\n\t.header {\r\n\t\twidth: 161rpx;\r\n\t\theight: 161rpx;\r\n\t\tbackground: rgba(63, 205, 235, 1);\r\n\t\tbox-shadow: 0rpx 12rpx 13rpx 0rpx rgba(63, 205, 235, 0.47);\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-top: 30rpx;\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t}\r\n\r\n\t.header image {\r\n\t\twidth: 161rpx;\r\n\t\theight: 161rpx;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.dlbutton {\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 34rpx;\r\n\t\twidth: 470rpx;\r\n\t\theight: 100rpx;\r\n\t\tbackground: linear-gradient(-90deg, rgba(63, 205, 235, 1), rgba(188, 226, 158, 1));\r\n\t\tbox-shadow: 0rpx 0rpx 13rpx 0rpx rgba(164, 217, 228, 0.2);\r\n\t\tborder-radius: 50rpx;\r\n\t\tline-height: 100rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t\tmargin-top: 100rpx;\r\n\t}\r\n\r\n\t.dlbutton-hover {\r\n\t\tbackground: linear-gradient(-90deg, rgba(63, 205, 235, 0.9), rgba(188, 226, 158, 0.9));\r\n\t}\r\n\r\n\t.oauth-row {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.oauth-image {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tborder: 1rpx solid #dddddd;\r\n\t\tborder-radius: 100rpx;\r\n\t\tmargin: 0 40rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\r\n\t.oauth-image image {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tmargin: 20rpx;\r\n\t}\r\n</style>\n","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}